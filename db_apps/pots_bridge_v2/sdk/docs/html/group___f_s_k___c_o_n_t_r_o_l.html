<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ProSLIC API: FSK/Caller ID generation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="top_logo1.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ProSLIC API
   &#160;<span id="projectnumber">9.2.0</span>
   </div>
   <div id="projectbrief">ProSLIC API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___f_s_k___c_o_n_t_r_o_l.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FSK/Caller ID generation<div class="ingroups"><a class="el" href="group___pro_s_l_i_c___a_p_i.html">ProSLIC API</a> &raquo; <a class="el" href="group___p_r_o_s_l_i_c___a_u_d_i_o.html">Audio</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for FSK/Caller ID generation:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___f_s_k___c_o_n_t_r_o_l.png" border="0" alt="" usemap="#group______f__s__k______c__o__n__t__r__o__l"/>
<map name="group______f__s__k______c__o__n__t__r__o__l" id="group______f__s__k______c__o__n__t__r__o__l">
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga002db58791c80c85e642a0dbec03a1b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga002db58791c80c85e642a0dbec03a1b1">ProSLIC_FSKSetup</a> (<a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a> hProslic, int preset)</td></tr>
<tr class="memdesc:ga002db58791c80c85e642a0dbec03a1b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the FSK generator from a configuration generated by the config tool.  <a href="#ga002db58791c80c85e642a0dbec03a1b1">More...</a><br /></td></tr>
<tr class="separator:ga002db58791c80c85e642a0dbec03a1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98b30aef546417d88ede9b6de9593e0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga98b30aef546417d88ede9b6de9593e0d">ProSLIC_FSKSetupPtr</a> (<a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a> pProslic, <a class="el" href="struct_pro_s_l_i_c___f_s_k___cfg.html">ProSLIC_FSK_Cfg</a> *cfg)</td></tr>
<tr class="memdesc:ga98b30aef546417d88ede9b6de9593e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the FSK generator from a configuration generated by the config tool.  <a href="#ga98b30aef546417d88ede9b6de9593e0d">More...</a><br /></td></tr>
<tr class="separator:ga98b30aef546417d88ede9b6de9593e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5186a3b4249c044273b8ef4114a6f1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#gaa5186a3b4249c044273b8ef4114a6f1d">ProSLIC_EnableCID</a> (<a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a> hProslic)</td></tr>
<tr class="memdesc:gaa5186a3b4249c044273b8ef4114a6f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables FSK mode and clears the FSK FIFO. It is assumed that PCM has been enabled and that <a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga002db58791c80c85e642a0dbec03a1b1">ProSLIC_FSKSetup</a> has been called at some point.  <a href="#gaa5186a3b4249c044273b8ef4114a6f1d">More...</a><br /></td></tr>
<tr class="separator:gaa5186a3b4249c044273b8ef4114a6f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga675d4ea68ac547995c6df8576d97d50c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga675d4ea68ac547995c6df8576d97d50c">ProSLIC_DisableCID</a> (<a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a> hProslic)</td></tr>
<tr class="memdesc:ga675d4ea68ac547995c6df8576d97d50c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables FSK mode.  <a href="#ga675d4ea68ac547995c6df8576d97d50c">More...</a><br /></td></tr>
<tr class="separator:ga675d4ea68ac547995c6df8576d97d50c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8da0aed2c4267d3efef92808d3970971"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga8da0aed2c4267d3efef92808d3970971">ProSLIC_CheckCIDBuffer</a> (<a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a> hProslic, uInt8 *fsk_buf_avail)</td></tr>
<tr class="memdesc:ga8da0aed2c4267d3efef92808d3970971"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the FSK FIFO is empty or not. This should only be called after ProSLIC_SendCID.  <a href="#ga8da0aed2c4267d3efef92808d3970971">More...</a><br /></td></tr>
<tr class="separator:ga8da0aed2c4267d3efef92808d3970971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a4b847411f97acfe3f9fa0cc675696c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga7a4b847411f97acfe3f9fa0cc675696c">ProSLIC_SendCID</a> (<a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a> hProslic, uInt8 *buffer, uInt8 numBytes)</td></tr>
<tr class="memdesc:ga7a4b847411f97acfe3f9fa0cc675696c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send numBytes as FSK encoded data. It is assumed that numBytes &lt;= FIFO Depth (typically 8) and that the FIFO is free. It is also assumed that <a class="el" href="group___p_c_m___c_o_n_t_r_o_l.html#ga3a619003525e1b4f08fdabe63bb29a4d">ProSLIC_PCMStart</a> has been called and that we're in <a class="el" href="group___l_i_n_e_s_t_a_t_u_s.html#ggadc29c2ff13d900c2f185ee95427fb06ca97837e366306cc77ee8c8374c21eb5de">LF_FWD_OHT</a> or <a class="el" href="group___l_i_n_e_s_t_a_t_u_s.html#ggadc29c2ff13d900c2f185ee95427fb06ca156f75765fe5c6b40886a20a0d09eeee">LF_REV_OHT</a> mode for Type-1 or <a class="el" href="group___l_i_n_e_s_t_a_t_u_s.html#ggadc29c2ff13d900c2f185ee95427fb06ca92c085c38474f56ebad024bb408293bb">LF_REV_ACTIVE</a> or <a class="el" href="group___l_i_n_e_s_t_a_t_u_s.html#ggadc29c2ff13d900c2f185ee95427fb06ca7625d0bb918f029dc6e611031c81ab6a">LF_FWD_ACTIVE</a> if we're in Type-2 caller ID.  <a href="#ga7a4b847411f97acfe3f9fa0cc675696c">More...</a><br /></td></tr>
<tr class="separator:ga7a4b847411f97acfe3f9fa0cc675696c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7b275dce248529437d4158e84ce3021"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#gae7b275dce248529437d4158e84ce3021">ProSLIC_ModifyCIDStartBits</a> (<a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a> hProslic, uInt8 enable_startStop)</td></tr>
<tr class="memdesc:gae7b275dce248529437d4158e84ce3021"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control if the start/stop bits are enabled.  <a href="#gae7b275dce248529437d4158e84ce3021">More...</a><br /></td></tr>
<tr class="separator:gae7b275dce248529437d4158e84ce3021"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This group of functions is related to FSK generation, typically used with Caller ID/Call Waiting functionality. To set the frequencies, the data rate, and the FSK FIFO depth, please use the configuration GUI FSK dialog box.</p>
<p>Here's a simple example code fragment to send data via FSK:</p>
<dl class="section note"><dt>Note</dt><dd>In a "real" application, you should not use <a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga8da0aed2c4267d3efef92808d3970971" title="Check if the FSK FIFO is empty or not. This should only be called after ProSLIC_SendCID. ">ProSLIC_CheckCIDBuffer()</a>, but instead call <a class="el" href="group___p_r_o_s_l_i_c___i_n_t_e_r_r_u_p_t_s.html#gad690e2755012120e6e86dd66b8ac51e8" title="This function reads the interrupts from the ProSLIC and places them into a proslicIntType structure w...">ProSLIC_GetInterrupts()</a> and check if the FSK interrrupt fired off since the <a class="el" href="group___p_r_o_s_l_i_c___i_n_t_e_r_r_u_p_t_s.html#gad690e2755012120e6e86dd66b8ac51e8" title="This function reads the interrupts from the ProSLIC and places them into a proslicIntType structure w...">ProSLIC_GetInterrupts()</a> will also report on loop closure/ring trip in addition FSK buffer interrupt and the two functions will conflict with each other.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#define FIFO_DEPTH (7-FSKBUF_DEPTH) //When we report the buffer at FSK BUFFER DEPTH, we can send</span></div><div class="line">                                    <span class="comment">//at most 1 less than the maximum since that byte maybe still</span></div><div class="line">                                    <span class="comment">//be modulated. Therefore, we say we can send 7 bytes, not</span></div><div class="line">                                    <span class="comment">//8 after the interrupt.</span></div><div class="line"></div><div class="line"><span class="comment">//ASSUME: FSK Buffer depth interrupt has been enabled in the constants file earlier...</span></div><div class="line"></div><div class="line"> <span class="comment">// This should be called every time since it is likely a tone was played</span></div><div class="line"> <span class="comment">// earlier which reprograms the oscillators...</span></div><div class="line"><span class="keywordflow">if</span>( <a class="code" href="group___f_s_k___c_o_n_t_r_o_l.html#ga002db58791c80c85e642a0dbec03a1b1">ProSLIC_FSKSetup</a>(myProSLICChan, PROSLIC_NORTH_AMERICA_FSK) == <a class="code" href="group___s_i_v_o_i_c_e.html#ggab62dba2d648808e8a5c8009da5984a40a79dbd92a67d7bf5377fb75bf36d40c84">RC_NONE</a>)</div><div class="line">{</div><div class="line"></div><div class="line"> <span class="comment">// Enable the CID block, at this point no tones other than the FSK ones</span></div><div class="line"> <span class="comment">// should be played out...</span></div><div class="line">    <a class="code" href="group___f_s_k___c_o_n_t_r_o_l.html#gaa5186a3b4249c044273b8ef4114a6f1d">ProSLIC_EnableCID</a>(myProSLICChan);</div><div class="line"></div><div class="line"> <span class="comment">// Pre-load the FSK FIFO buffer with at most 8 bytes.</span></div><div class="line">    <a class="code" href="group___f_s_k___c_o_n_t_r_o_l.html#ga7a4b847411f97acfe3f9fa0cc675696c">ProSLIC_SendCID</a>(myProSLICChan,buf,MIN(bufsz,8));</div><div class="line"></div><div class="line"> bytes_left_to_send = bufsz - MIN(bufsz,8);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span>(bytes_left_to_send &gt; 0)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span>(bytes_left_to_send &lt; FIFO_DEPTH)</div><div class="line">        {</div><div class="line">            bytes_to_send = bytes_left_to_send;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            bytes_to_send = FIFO_DEPTH;</div><div class="line">    }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>( <a class="code" href="group___f_s_k___c_o_n_t_r_o_l.html#ga7a4b847411f97acfe3f9fa0cc675696c">ProSLIC_SendCID</a>(myProSLICChan,buf,bytes_to_send) != <a class="code" href="group___s_i_v_o_i_c_e.html#ggab62dba2d648808e8a5c8009da5984a40a79dbd92a67d7bf5377fb75bf36d40c84">RC_NONE</a>)</div><div class="line">        {</div><div class="line">            <a class="code" href="group___f_s_k___c_o_n_t_r_o_l.html#ga675d4ea68ac547995c6df8576d97d50c">ProSLIC_DisableCID</a>(myProSLICChan);</div><div class="line">            <span class="keywordflow">return</span> MY_FSK_ERROR;</div><div class="line">        }</div><div class="line"></div><div class="line">    bytes_left_to_send -= bytes_to_send;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(bytes_left_to_send)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">do</span></div><div class="line">        {</div><div class="line">          <span class="comment">// See note above about this function...</span></div><div class="line">            <a class="code" href="group___f_s_k___c_o_n_t_r_o_l.html#ga8da0aed2c4267d3efef92808d3970971">ProSLIC_CheckCIDBuffer</a>(myProSLICChan, &amp;is_fifo_empty);</div><div class="line"></div><div class="line">        } <span class="keywordflow">while</span>( is_fifo_empty != 1 );</div><div class="line">    }</div><div class="line"></div><div class="line">    };</div><div class="line"></div><div class="line">    <a class="code" href="group___f_s_k___c_o_n_t_r_o_l.html#ga675d4ea68ac547995c6df8576d97d50c">ProSLIC_DisableCID</a>(myProSLICChan);</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The above code fragment is sub-optimal since it does constantly poll the CID buffer state - one may want to implement the actual code using interrupts.</dd>
<dd>
The ProSLIC API demo does have a working example for Type 1 CID MDMF format. </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga8da0aed2c4267d3efef92808d3970971"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProSLIC_CheckCIDBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a>&#160;</td>
          <td class="paramname"><em>hProslic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt8 *&#160;</td>
          <td class="paramname"><em>fsk_buf_avail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the FSK FIFO is empty or not. This should only be called after ProSLIC_SendCID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hProslic</td><td>- which channel to check upon. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fsk_buf_avail</td><td>- is the buffer available? 1 = Yes, 0 = No. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>- error from <a class="el" href="group___s_i_v_o_i_c_e.html#gab62dba2d648808e8a5c8009da5984a40">errorCodeType</a> <a class="el" href="group___s_i_v_o_i_c_e.html#ggab62dba2d648808e8a5c8009da5984a40a79dbd92a67d7bf5377fb75bf36d40c84">RC_NONE</a> indicates no error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>- This modifies the IRQ1 register contents, so some other interrupts may be lost. An alternative is to enable the FSK FIFO interrupt and trigger off of it when it does occur in your interrupt service routine and call <a class="el" href="group___p_r_o_s_l_i_c___i_n_t_e_r_r_u_p_t_s.html#gad690e2755012120e6e86dd66b8ac51e8" title="This function reads the interrupts from the ProSLIC and places them into a proslicIntType structure w...">ProSLIC_GetInterrupts()</a> to decode the interrupts present. </dd></dl>

<p>Definition at line <a class="el" href="proslic_8c_source.html#l02670">2670</a> of file <a class="el" href="proslic_8c_source.html">proslic.c</a>.</p>

<p>References <a class="el" href="si__voice_8h_source.html#l00440">SiVoiceChanType::channel</a>, <a class="el" href="si__voice_8h_source.html#l00441">SiVoiceChanType::channelType</a>, <a class="el" href="si__voice_8h_source.html#l00177">PROSLIC</a>, and <a class="el" href="si__voice_8h_source.html#l00187">RC_NONE</a>.</p>

</div>
</div>
<a class="anchor" id="ga675d4ea68ac547995c6df8576d97d50c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProSLIC_DisableCID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a>&#160;</td>
          <td class="paramname"><em>hProslic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables FSK mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hProslic</td><td>- which channel to disable FSK mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>- error from <a class="el" href="group___s_i_v_o_i_c_e.html#gab62dba2d648808e8a5c8009da5984a40">errorCodeType</a> <a class="el" href="group___s_i_v_o_i_c_e.html#ggab62dba2d648808e8a5c8009da5984a40a79dbd92a67d7bf5377fb75bf36d40c84">RC_NONE</a> indicates no error. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="proslic_8c_source.html#l02708">2708</a> of file <a class="el" href="proslic_8c_source.html">proslic.c</a>.</p>

<p>References <a class="el" href="si__voice_8h_source.html#l00440">SiVoiceChanType::channel</a>, <a class="el" href="si__voice_8h_source.html#l00441">SiVoiceChanType::channelType</a>, and <a class="el" href="si__voice_8h_source.html#l00177">PROSLIC</a>.</p>

</div>
</div>
<a class="anchor" id="gaa5186a3b4249c044273b8ef4114a6f1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProSLIC_EnableCID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a>&#160;</td>
          <td class="paramname"><em>hProslic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables FSK mode and clears the FSK FIFO. It is assumed that PCM has been enabled and that <a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga002db58791c80c85e642a0dbec03a1b1">ProSLIC_FSKSetup</a> has been called at some point. </p>
<dl class="section warning"><dt>Warning</dt><dd>If <a class="el" href="group___t_o_n_e___g_e_n.html#ga9f720717703657768d878d58a53dd303">ProSLIC_ToneGenSetup</a> was called earlier, <a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga002db58791c80c85e642a0dbec03a1b1">ProSLIC_FSKSetup</a> will need to be called again.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hProslic</td><td>- which channel to check upon. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>- error from <a class="el" href="group___s_i_v_o_i_c_e.html#gab62dba2d648808e8a5c8009da5984a40">errorCodeType</a> <a class="el" href="group___s_i_v_o_i_c_e.html#ggab62dba2d648808e8a5c8009da5984a40a79dbd92a67d7bf5377fb75bf36d40c84">RC_NONE</a> indicates no error. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="proslic_8c_source.html#l02688">2688</a> of file <a class="el" href="proslic_8c_source.html">proslic.c</a>.</p>

<p>References <a class="el" href="si__voice_8h_source.html#l00440">SiVoiceChanType::channel</a>, <a class="el" href="si__voice_8h_source.html#l00441">SiVoiceChanType::channelType</a>, and <a class="el" href="si__voice_8h_source.html#l00177">PROSLIC</a>.</p>

</div>
</div>
<a class="anchor" id="ga002db58791c80c85e642a0dbec03a1b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProSLIC_FSKSetup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a>&#160;</td>
          <td class="paramname"><em>hProslic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>preset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the FSK generator from a configuration generated by the config tool. </p>
<dl class="section warning"><dt>Warning</dt><dd>If <a class="el" href="group___t_o_n_e___g_e_n.html#ga9f720717703657768d878d58a53dd303">ProSLIC_ToneGenSetup</a> was called earlier, this function will need to be called again.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hProslic</td><td>- which channel to configure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">preset</td><td>- which FSK configuration to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>- error from <a class="el" href="group___s_i_v_o_i_c_e.html#gab62dba2d648808e8a5c8009da5984a40">errorCodeType</a> <a class="el" href="group___s_i_v_o_i_c_e.html#ggab62dba2d648808e8a5c8009da5984a40a79dbd92a67d7bf5377fb75bf36d40c84">RC_NONE</a> indicates no error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function can be compiled out by defining DISABLE_FSK_SETUP </dd></dl>

<p>Definition at line <a class="el" href="proslic_8c_source.html#l01128">1128</a> of file <a class="el" href="proslic_8c_source.html">proslic.c</a>.</p>

<p>References <a class="el" href="si__voice_8h_source.html#l00441">SiVoiceChanType::channelType</a>, <a class="el" href="si__voice_8h_source.html#l00372">SiVoiceDeviceType::chipType</a>, <a class="el" href="si__voice_8h_source.html#l00439">SiVoiceChanType::deviceId</a>, <a class="el" href="si__voice_8h_source.html#l00177">PROSLIC</a>, <a class="el" href="proslic_8c_source.html#l04578">ProSLIC_FSKSetupPtr()</a>, and <a class="el" href="si__voice_8h_source.html#l00190">RC_COMPLETE_NO_ERR</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___f_s_k___c_o_n_t_r_o_l_ga002db58791c80c85e642a0dbec03a1b1_cgraph.png" border="0" usemap="#group___f_s_k___c_o_n_t_r_o_l_ga002db58791c80c85e642a0dbec03a1b1_cgraph" alt=""/></div>
<map name="group___f_s_k___c_o_n_t_r_o_l_ga002db58791c80c85e642a0dbec03a1b1_cgraph" id="group___f_s_k___c_o_n_t_r_o_l_ga002db58791c80c85e642a0dbec03a1b1_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga98b30aef546417d88ede9b6de9593e0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProSLIC_FSKSetupPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a>&#160;</td>
          <td class="paramname"><em>pProslic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pro_s_l_i_c___f_s_k___cfg.html">ProSLIC_FSK_Cfg</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the FSK generator from a configuration generated by the config tool. </p>
<dl class="section warning"><dt>Warning</dt><dd>If <a class="el" href="group___t_o_n_e___g_e_n.html#ga9f720717703657768d878d58a53dd303">ProSLIC_ToneGenSetup</a> was called earlier, this function will need to be called again.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pProslic</td><td>- which channel to configure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cfg</td><td>- which FSK configuration to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>- error from <a class="el" href="group___s_i_v_o_i_c_e.html#gab62dba2d648808e8a5c8009da5984a40">errorCodeType</a> <a class="el" href="group___s_i_v_o_i_c_e.html#ggab62dba2d648808e8a5c8009da5984a40a79dbd92a67d7bf5377fb75bf36d40c84">RC_NONE</a> indicates no error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function can be compiled out by defining DISABLE_FSK_SETUP </dd></dl>

<p>Definition at line <a class="el" href="proslic_8c_source.html#l04578">4578</a> of file <a class="el" href="proslic_8c_source.html">proslic.c</a>.</p>

<p>References <a class="el" href="si__voice_8h_source.html#l00440">SiVoiceChanType::channel</a>, <a class="el" href="si__voice_8h_source.html#l00441">SiVoiceChanType::channelType</a>, <a class="el" href="si__voice_8h_source.html#l00177">PROSLIC</a>, <a class="el" href="si__voice_8h_source.html#l00209">RC_CHANNEL_TYPE_ERR</a>, and <a class="el" href="si__voice_8h_source.html#l00187">RC_NONE</a>.</p>

<p>Referenced by <a class="el" href="proslic_8c_source.html#l01128">ProSLIC_FSKSetup()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___f_s_k___c_o_n_t_r_o_l_ga98b30aef546417d88ede9b6de9593e0d_icgraph.png" border="0" usemap="#group___f_s_k___c_o_n_t_r_o_l_ga98b30aef546417d88ede9b6de9593e0d_icgraph" alt=""/></div>
<map name="group___f_s_k___c_o_n_t_r_o_l_ga98b30aef546417d88ede9b6de9593e0d_icgraph" id="group___f_s_k___c_o_n_t_r_o_l_ga98b30aef546417d88ede9b6de9593e0d_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae7b275dce248529437d4158e84ce3021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProSLIC_ModifyCIDStartBits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a>&#160;</td>
          <td class="paramname"><em>hProslic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt8&#160;</td>
          <td class="paramname"><em>enable_startStop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control if the start/stop bits are enabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hProslic</td><td>- which channel to adjust </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enable_startStop</td><td>- TRUE - start/stop bits are enabled, FALSE - disabled </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>- error from <a class="el" href="group___s_i_v_o_i_c_e.html#gab62dba2d648808e8a5c8009da5984a40">errorCodeType</a> <a class="el" href="group___s_i_v_o_i_c_e.html#ggab62dba2d648808e8a5c8009da5984a40a79dbd92a67d7bf5377fb75bf36d40c84">RC_NONE</a> indicates no error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>: This does not replace <a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga002db58791c80c85e642a0dbec03a1b1">ProSLIC_FSKSetup</a>, but is a supplement that toggles one of the registers that the preset modifies. It is assumed that <a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga002db58791c80c85e642a0dbec03a1b1">ProSLIC_FSKSetup</a> was called at some point earlier in the code flow. </dd></dl>

<p>Definition at line <a class="el" href="proslic_8c_source.html#l02746">2746</a> of file <a class="el" href="proslic_8c_source.html">proslic.c</a>.</p>

<p>References <a class="el" href="si__voice_8h_source.html#l00440">SiVoiceChanType::channel</a>, <a class="el" href="si__voice_8h_source.html#l00441">SiVoiceChanType::channelType</a>, <a class="el" href="si__voice_8h_source.html#l00177">PROSLIC</a>, <a class="el" href="si__voice_8h_source.html#l00209">RC_CHANNEL_TYPE_ERR</a>, and <a class="el" href="si__voice_8h_source.html#l00187">RC_NONE</a>.</p>

</div>
</div>
<a class="anchor" id="ga7a4b847411f97acfe3f9fa0cc675696c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProSLIC_SendCID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_r_o_s_l_i_c___t_y_p_e_s.html#ga0367f972e681fe5f94a65eb1e0eac286">proslicChanType_ptr</a>&#160;</td>
          <td class="paramname"><em>hProslic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt8 *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt8&#160;</td>
          <td class="paramname"><em>numBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send numBytes as FSK encoded data. It is assumed that numBytes &lt;= FIFO Depth (typically 8) and that the FIFO is free. It is also assumed that <a class="el" href="group___p_c_m___c_o_n_t_r_o_l.html#ga3a619003525e1b4f08fdabe63bb29a4d">ProSLIC_PCMStart</a> has been called and that we're in <a class="el" href="group___l_i_n_e_s_t_a_t_u_s.html#ggadc29c2ff13d900c2f185ee95427fb06ca97837e366306cc77ee8c8374c21eb5de">LF_FWD_OHT</a> or <a class="el" href="group___l_i_n_e_s_t_a_t_u_s.html#ggadc29c2ff13d900c2f185ee95427fb06ca156f75765fe5c6b40886a20a0d09eeee">LF_REV_OHT</a> mode for Type-1 or <a class="el" href="group___l_i_n_e_s_t_a_t_u_s.html#ggadc29c2ff13d900c2f185ee95427fb06ca92c085c38474f56ebad024bb408293bb">LF_REV_ACTIVE</a> or <a class="el" href="group___l_i_n_e_s_t_a_t_u_s.html#ggadc29c2ff13d900c2f185ee95427fb06ca7625d0bb918f029dc6e611031c81ab6a">LF_FWD_ACTIVE</a> if we're in Type-2 caller ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hProslic</td><td>- which channel to send the data through. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>- byte array of data to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numBytes</td><td>- number of bytes to send. MUST be less than or equal to the FIFO size </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>- error from <a class="el" href="group___s_i_v_o_i_c_e.html#gab62dba2d648808e8a5c8009da5984a40">errorCodeType</a> <a class="el" href="group___s_i_v_o_i_c_e.html#ggab62dba2d648808e8a5c8009da5984a40a79dbd92a67d7bf5377fb75bf36d40c84">RC_NONE</a> indicates no error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga8da0aed2c4267d3efef92808d3970971" title="Check if the FSK FIFO is empty or not. This should only be called after ProSLIC_SendCID. ">ProSLIC_CheckCIDBuffer</a> <a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga002db58791c80c85e642a0dbec03a1b1" title="Configures the FSK generator from a configuration generated by the config tool. ">ProSLIC_FSKSetup</a> <a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#gaa5186a3b4249c044273b8ef4114a6f1d" title="This function enables FSK mode and clears the FSK FIFO. It is assumed that PCM has been enabled and t...">ProSLIC_EnableCID</a> <a class="el" href="group___f_s_k___c_o_n_t_r_o_l.html#ga675d4ea68ac547995c6df8576d97d50c" title="This function disables FSK mode. ">ProSLIC_DisableCID</a> </dd></dl>

<p>Definition at line <a class="el" href="proslic_8c_source.html#l02727">2727</a> of file <a class="el" href="proslic_8c_source.html">proslic.c</a>.</p>

<p>References <a class="el" href="si__voice_8h_source.html#l00440">SiVoiceChanType::channel</a>, <a class="el" href="si__voice_8h_source.html#l00441">SiVoiceChanType::channelType</a>, <a class="el" href="si__voice_8h_source.html#l00177">PROSLIC</a>, and <a class="el" href="si__voice_8h_source.html#l00187">RC_NONE</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<HTML>
	<hr size="1">
	<small>
		<address style="text-align: right;">
<body> Copyright Fri Apr 20 2018, Silicon Laboratories,  ProSLIC API 9.2.0 
	Released under NDA<p> 
	<a href="http://www.silabs.com/products/voice/pages/default.aspx">Silabs Voice Home page</a>
</BODY></address></small>
</HTML>
