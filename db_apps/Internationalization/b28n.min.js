// "Butterfat internationalization" (b28n.js)
//  Released under the GNU GPL  by bmuller@buttterfat.net- http://www.gnu.org/licenses/gpl.txt
//  Modified by winfred_lu@ralinktech.com.tw for our need
var Butterlate=new Butterlation;window._=function(a){return Butterlate.gettext(a)};window.__=function(a,b){return Butterlate.vgettext(a,b)};
function Butterlation(){this.dict=new ButterDictionary;this.getLang=function(){var a,b;if(-1==(a=document.cookie.indexOf("language")))return"en";b=-1!=document.cookie.indexOf(";",a)?document.cookie.indexOf(";",a):document.cookie.length;return unescape(document.cookie.substring(a+9,b))};this.lang=this.getLang();this.setTextDomain=function(a){this.lang=this.getLang();this.po=window.location.protocol+"//"+window.location.host+"/lang/"+this.lang+"/"+a+".xml?"+Math.random();this.initializeDictionary()};
this.initializeDictionary=function(){var a;try{a=new XMLHttpRequest}catch(c){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return}}}a.open("GET",this.po,!1);a.send(null);if(200==a.status){a=a.responseXML.documentElement.getElementsByTagName("message");for(var b=0;b<a.length;b++)this.dict.set(a[b].getAttribute("msgid"),a[b].getAttribute("msgstr"))}};this.gettext=function(a){return this.dict.get(a)};this.vgettext=function(a,b){var c=this.gettext(a),
d,e=0;if(0==b.length)return c;for(;-1!=(d=c.indexOf("%s"));)c=c.substring(0,d)+b[e]+c.substring(d+2,c.length),e=e+1==b.length?e:e+1;return c}}
function ButterDictionary(){this.keys=[];this.values=[];this.set=function(a,b){var c=this.getIndex(a);-1==c?(this.keys.push(a),this.values.push(b)):this.values[c]=b};this.get=function(a){var b;return-1!=(b=this.getIndex(a))?this.values[b]:a};this.getIndex=function(a){for(var b=-1,c=0;c<this.keys.length;c++)if(this.keys[c]==a){b=c;break}return b};this.keyExists=function(a){return 1!=this.getIndex(a)};this.deleteKey=function(a){a=getIndex(a);-1!=a&&(this.keys.splice(a,1),this.values.splice(a,1))}}
function insert_br(a){for(var b="",c;-1!=(c=a.indexOf(". "));)b=b+a.substring(0,c+1)+"<br />",a=a.substring(c+1);return b+a}function checkenter(a,b){13==a.keyCode&&eval(b)}
function UrlDecode(a){for(var b=0,c="",d=0;d<a.length;d+=3){var e=parseInt("0x"+a.substring(d+1,d+3));if(127<e||32>e){b=1;break}}for(d=0;d<a.length;d++)e=a.charAt(d),"+"==e?c+=" ":"%"==e?(e=a.substring(d+1,d+3),b?(temp=parseInt("0x"+a.substring(d+4,d+6)+e),rt="&#"+temp.toString()+";",c+=rt,d+=5):(rt="&#x"+e+";",c+=rt,d+=2)):c+=e;return c}
function removejscssfile(a,b){for(var c="js"==b?"src":"css"==b?"href":"none",d=document.getElementsByTagName("js"==b?"script":"css"==b?"link":"none"),e=d.length;0<=e;e--)d[e]&&null!=d[e].getAttribute(c)&&-1!=d[e].getAttribute(c).indexOf(a)&&d[e].parentNode.removeChild(d[e])}
function createjscssfile(a,b){if("js"==b){var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("src",a)}else"css"==b&&(c=document.createElement("link"),c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href",a));return c}function updateStylesheet(){"ar"!=Butterlate.getLang()&&removejscssfile("GUI-ntcStyle-ar.css","css")}
function showLanguage_ar(){"ar"==Butterlate.getLang()?document.write("English"):document.write("\u0627\u0644\u0639\u0631\u0628\u064a\u0629")}function setLangHandler(){window.location.reload()}function switchLanguage_ar(){var a="ar"==Butterlate.getLang()?"en":"ar";setLanguage(a)}function setLanguage(a){""!=a&&(document.cookie="language="+a,$.get("/cgi-bin/rdb.cgi?webinterface.language="+a,setLangHandler),document.cookie="language="+a,updateStylesheet())};
